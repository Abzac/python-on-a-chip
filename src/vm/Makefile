#
# Builds the PyMite VM as an archive
#

# Files to build
SOURCES = $(wildcard *.c)
HEADERS = $(wildcard *.h)
OBJECTS = $(SOURCES:.c=.o)

.PHONY: all size clean

# Default action is to build the archive from object files
all : $(PRODUCT_VM)

# The archive is generated by placing object files inside it
$(PRODUCT_VM) : $(PRODUCT_VM)($(OBJECTS))

# Lists the size of the obejcts in the archive
size : $(PRODUCT_VM)
	@$(SIZE) $(PRODUCT_VM)

# Remove files made by default make
clean :
	@echo Deleting archive
	@$(RM) $(PRODUCT_VM)
